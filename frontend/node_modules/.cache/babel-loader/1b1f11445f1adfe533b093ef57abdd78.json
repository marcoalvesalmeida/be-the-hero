{"ast":null,"code":"import _regeneratorRuntime from\"/home/marco/PESSOAL/be-the-hero/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marco/PESSOAL/be-the-hero/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/marco/PESSOAL/be-the-hero/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FiLogIn}from'react-icons/fi';import{Link,useHistory}from'react-router-dom';import'./styles.css';import Logo from\"../../assets/logo.svg\";import Heroes from'../../assets/heroes.png';import api from'../../services/api';export default function Logon(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var history=useHistory();function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return api.post('session',{id:id});case 4:response=_context.sent;localStorage.setItem('ong_id',id);localStorage.setItem('ong_name',response.data.name);history.push('/profile');_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);alert('Erro ao fazer login, tente novamente!');case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _handleLogin.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"logon-container\"},/*#__PURE__*/React.createElement(\"section\",{className:\"form\"},/*#__PURE__*/React.createElement(\"img\",{src:Logo,alt:\"Be The Hero\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleLogin},/*#__PURE__*/React.createElement(\"h1\",null,\"Fa\\xE7a seu logon\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Sua ID\",value:id,onChange:function onChange(e){return setId(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",type:\"submit\"},\"Vamos L\\xE1!\"),/*#__PURE__*/React.createElement(Link,{className:\"back-link\",to:\"/register\"},/*#__PURE__*/React.createElement(FiLogIn,{size:\"16\",color:\"#E02041\"}),\"N\\xE3o tenho Cadastro\"))),/*#__PURE__*/React.createElement(\"img\",{src:Heroes,alt:\"Heroes\"}));}","map":{"version":3,"sources":["/home/marco/PESSOAL/be-the-hero/frontend/src/pages/Logon/index.js"],"names":["React","useState","FiLogIn","Link","useHistory","Heroes","api","Logon","id","setId","history","handleLogin","e","preventDefault","post","response","localStorage","setItem","data","name","push","alert","Logo","target","value"],"mappings":"8WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,MAAO,cAAP,C,wCAEA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,eACVN,QAAQ,CAAC,EAAD,CADE,wCACvBO,EADuB,eACnBC,KADmB,eAG9B,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAH8B,QAKfO,CAAAA,WALe,6IAK9B,iBAA2BC,CAA3B,+HACEA,CAAC,CAACC,cAAF,GADF,sCAI2BP,CAAAA,GAAG,CAACQ,IAAJ,CAAS,SAAT,CAAoB,CAAEN,EAAE,CAAFA,EAAF,CAApB,CAJ3B,QAIUO,QAJV,eAKIC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BT,EAA/B,EACAQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCF,QAAQ,CAACG,IAAT,CAAcC,IAA/C,EAEAT,OAAO,CAACU,IAAR,CAAa,UAAb,EARJ,iFAUIC,KAAK,CAAC,uCAAD,CAAL,CAVJ,qEAL8B,8CAmB9B,mBACE,2BAAK,SAAS,CAAC,iBAAf,eACE,+BAAS,SAAS,CAAC,MAAnB,eACE,2BAAK,GAAG,CAAEC,IAAV,CAAgB,GAAG,CAAC,aAApB,EADF,cAEE,4BAAM,QAAQ,CAAEX,WAAhB,eACE,kDADF,cAGE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,QAA/B,CACE,KAAK,CAAEH,EADT,CAEE,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,CAAAA,KAAK,CAACG,CAAC,CAACW,MAAF,CAASC,KAAV,CAAT,EAFb,EAHF,cAOE,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,iBAPF,cASE,oBAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,CAAC,WAA/B,eACE,oBAAC,OAAD,EAAS,IAAI,CAAC,IAAd,CAAmB,KAAK,CAAC,SAAzB,EADF,yBATF,CAFF,CADF,cAkBE,2BAAK,GAAG,CAAEnB,MAAV,CAAkB,GAAG,CAAC,QAAtB,EAlBF,CADF,CAsBD","sourcesContent":["import React, { useState } from 'react';\nimport { FiLogIn } from 'react-icons/fi';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport './styles.css';\nimport Logo from '../../assets/logo.svg';\nimport Heroes from '../../assets/heroes.png';\nimport api from '../../services/api';\n\nexport default function Logon() {\n  const [id, setId] = useState(\"\");\n\n  const history = useHistory();\n\n  async function handleLogin(e){\n    e.preventDefault();\n\n    try {\n      const response = await api.post('session', { id });\n      localStorage.setItem('ong_id', id);\n      localStorage.setItem('ong_name', response.data.name);\n\n      history.push('/profile');\n    } catch (error) {\n      alert('Erro ao fazer login, tente novamente!');\n    }\n  }\n\n  return (\n    <div className=\"logon-container\">\n      <section className=\"form\">\n        <img src={Logo} alt=\"Be The Hero\"/>  \n        <form onSubmit={handleLogin}>\n          <h1>Faça seu logon</h1>\n\n          <input type=\"text\" placeholder=\"Sua ID\" \n            value={id} \n            onChange={e => setId(e.target.value)} \n          />\n          <button className=\"button\" type=\"submit\">Vamos Lá!</button>\n\n          <Link className=\"back-link\" to=\"/register\">\n            <FiLogIn size=\"16\" color=\"#E02041\" />\n            Não tenho Cadastro\n          </Link>\n        </form>\n      </section>\n      <img src={Heroes} alt=\"Heroes\"/>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}